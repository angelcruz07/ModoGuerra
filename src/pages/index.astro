---
import { actions } from "astro:actions";
import Layout from "@layouts/Layout.astro";
import Hero from "@components/home/Hero.astro";
import LatestPost from "@components/home/LatestPost.astro";
import Categories from "@components/home/Categories.astro";

const { data } = await Astro.callAction(actions.post.getPostsByPage, {
  page: 1,
});

if (!data) {
  return Astro.redirect("/500");
}
---

<Layout title="Modo Guerra">
  <Hero />
  <LatestPost data={data} />
  <Categories />
</Layout>
