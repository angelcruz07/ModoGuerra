---
import { actions } from "astro:actions";
import Layout from "@layouts/Layout.astro";
import Hero from "@components/home/Hero.astro";
import LatestPost from "@components/home/LatestPost.astro";
import Categories from "@components/home/Categories.astro";

const { data } = await Astro.callAction(actions.post.getPostsByPage, {
  page: 1,
});

if (!data) {
  return Astro.redirect("/500");
}
---

<Layout
  title="Modo Guerra"
  description="Activa el #ModoGuerra. El cuartel general para los compas de El Temach. Artículos y guías de desarrollo personal para forjar tu mejor versión. Sin pretextos, solo resultados."
>
  <Hero />
  <LatestPost data={data} />
  <Categories />
</Layout>
